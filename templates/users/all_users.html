{% extends "base.html" %}

{% block title %}All Users{% endblock %}

{% block content %}
<h1 class="mb-4"></h1>

<div class="row">
  {% for user in users %}
    <div class="col-md-6 col-lg-4 mb-4">
      <div class="card shadow-lg border-0 rounded-4 h-100">
        <div class="card-body">
          <h4 class="card-title text-primary">{{ user.username }}</h4>
          <hr>
          <p class="card-text">
            <strong>Email:</strong> {{ user.profile.email }} <br>
            <strong>Contact:</strong> {{ user.profile.contact }} <br>
            <strong>Age:</strong> {{ user.profile.age }} <br>
            <strong>Gender:</strong> {{ user.profile.gender }} <br>
            <strong>Address:</strong> {{ user.profile.address }}
          </p>
        </div>
        <div class="card-footer bg-transparent border-0 text-end">
          <form action="{% url 'delete_user' user.id %}" method="POST" 
                onsubmit="return confirm('Are you sure you want to delete {{ user.username }}?');">
            {% csrf_token %}
            <button type="submit" class="btn btn-sm btn-danger px-3">Delete</button>
          </form>
        </div>
      </div>
    </div>
  {% empty %}
    <div class="col-12">
      <div class="card shadow-sm border-0 rounded-4 text-center">
        <div class="card-body text-muted">
          No users found.
        </div>
      </div>
    </div>
  {% endfor %}
</div>
{% endblock %}
